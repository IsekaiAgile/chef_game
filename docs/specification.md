# 📜 修行ゲーム：マスター仕様書 (The Golden Path)

## 1. 1日の基本サイクル（全日程共通）
Day 1からDay 7まで、以下の流れを厳守する。特定の日付（Day 1だけ等）の特殊ロジックは禁止。

1. **朝 (Morning)**: 「今日の方針」を選択。選択されるまでアクションボタンは非活性。
2. **昼 (Daytime)**: アクション実行ごとに `remainingActions` を必ず **-1** する。
3. **夕方 (Transition)**: `remainingActions` が **0** になった瞬間に自動で `currentPhase = 'night'` へ移行。
4. **夜 (Night)**: ユーザーが「自習」や「掃除」等のボタンを押すまで待機。演出の自動進行は禁止。
5. **就寝 (Next Day)**: 振り返り後、スタミナを回復して翌朝へ。

## 2. 数値ロジック（パワプロ方式）
* **スタミナ上限**: 100（これを超えて回復しない）。
* **計算式**: `currentStamina = Math.min(100, currentStamina + recoveryAmount)`
* **回復量**:
    - **休む (Rest)**: スタミナ **+60** 加算 ＋ 「集中」フラグ付与。
    - **就寝 (Sleep)**: スタミナ **+40** 加算。※全回復(100)へのリセットは禁止。

## 3. UI/UX 描画原則
* **完全初期化**: 日付/フェーズ移行時、コンテナ内を `innerHTML = ''` で全消去してから再描画する。
* **イベント保護**: ボタン生成時は `cloneNode` 等で古いリスナーを破棄し、二重登録を防止する。